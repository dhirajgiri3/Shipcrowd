{
  "info": {
    "name": "Shipcrowd Business",
    "description": "Comprehensive collection for testing Shipcrowd business functionality including company management, warehouse management, and team member management.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "version": "2.0.0"
  },
  "item": [
    {
      "name": "1. Company Management",
      "item": [
        {
          "name": "Create Company",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"{{companyName}}\",\n    \"legalName\": \"{{companyName}} Pvt Ltd\",\n    \"email\": \"{{userEmail}}\",\n    \"phone\": \"{{testPhoneNumber}}\",\n    \"address\": {\n        \"line1\": \"123 Main St\",\n        \"line2\": \"Suite 101\",\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"postalCode\": \"400001\"\n    },\n    \"taxInfo\": {\n        \"gstin\": \"{{gstinNumber}}\",\n        \"pan\": \"{{panNumber}}\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies"
              ]
            },
            "description": "Create a new company"
          },
          "response": []
        },
        {
          "name": "Get Company",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}"
              ]
            },
            "description": "Get company details"
          },
          "response": []
        },
        {
          "name": "Update Company",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated {{companyName}}\",\n    \"phone\": \"{{testPhoneNumber}}\",\n    \"address\": {\n        \"line1\": \"456 New St\",\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"postalCode\": \"400002\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}"
              ]
            },
            "description": "Update company details"
          },
          "response": []
        },
        {
          "name": "Upload Company Logo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "logo",
                  "type": "file",
                  "src": "/path/to/company-logo.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/logo",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "logo"
              ]
            },
            "description": "Upload company logo"
          },
          "response": []
        }
      ],
      "description": "Endpoints for company management"
    },
    {
      "name": "2. Warehouse Management",
      "item": [
        {
          "name": "Create Warehouse",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Main Warehouse\",\n    \"code\": \"WH001\",\n    \"type\": \"fulfillment\",\n    \"address\": {\n        \"line1\": \"123 Warehouse St\",\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"postalCode\": \"400001\"\n    },\n    \"contactPerson\": {\n        \"name\": \"{{userName}}\",\n        \"email\": \"{{userEmail}}\",\n        \"phone\": \"{{testPhoneNumber}}\"\n    },\n    \"capacity\": {\n        \"area\": 5000,\n        \"areaUnit\": \"sqft\",\n        \"storageCapacity\": 10000,\n        \"storageUnit\": \"items\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/warehouses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "warehouses"
              ]
            },
            "description": "Create a new warehouse"
          },
          "response": []
        },
        {
          "name": "Get Warehouses",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/warehouses",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "warehouses"
              ]
            },
            "description": "Get all warehouses for a company"
          },
          "response": []
        },
        {
          "name": "Get Warehouse",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/warehouses/{{warehouseId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "warehouses",
                "{{warehouseId}}"
              ]
            },
            "description": "Get warehouse details"
          },
          "response": []
        },
        {
          "name": "Update Warehouse",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Warehouse\",\n    \"address\": {\n        \"line1\": \"456 New Warehouse St\",\n        \"city\": \"Mumbai\",\n        \"state\": \"Maharashtra\",\n        \"country\": \"India\",\n        \"postalCode\": \"400002\"\n    },\n    \"contactPerson\": {\n        \"name\": \"{{userName}}\",\n        \"phone\": \"{{testPhoneNumber}}\"\n    },\n    \"capacity\": {\n        \"area\": 7500,\n        \"storageCapacity\": 15000\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/warehouses/{{warehouseId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "warehouses",
                "{{warehouseId}}"
              ]
            },
            "description": "Update warehouse details"
          },
          "response": []
        },
        {
          "name": "Delete Warehouse",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/warehouses/{{warehouseId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "warehouses",
                "{{warehouseId}}"
              ]
            },
            "description": "Delete a warehouse"
          },
          "response": []
        }
      ],
      "description": "Endpoints for warehouse management"
    },
    {
      "name": "3. Team Management",
      "item": [
        {
          "name": "Invite Team Member",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"team.member@example.com\",\n    \"name\": \"Team Member\",\n    \"role\": \"warehouse_manager\",\n    \"permissions\": [\"view_inventory\", \"manage_inventory\", \"view_orders\"],\n    \"warehouseId\": \"{{warehouseId}}\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/team/invite",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "team",
                "invite"
              ]
            },
            "description": "Invite a team member to join the company"
          },
          "response": []
        },
        {
          "name": "Get Team Members",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/team",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "team"
              ]
            },
            "description": "Get all team members for a company"
          },
          "response": []
        },
        {
          "name": "Update Team Member",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"role\": \"admin\",\n    \"permissions\": [\"view_inventory\", \"manage_inventory\", \"view_orders\", \"manage_orders\", \"view_team\", \"manage_team\"],\n    \"warehouseId\": \"{{warehouseId}}\",\n    \"status\": \"active\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/team/{{teamMemberId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "team",
                "{{teamMemberId}}"
              ]
            },
            "description": "Update team member details"
          },
          "response": []
        },
        {
          "name": "Remove Team Member",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/team/{{teamMemberId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "team",
                "{{teamMemberId}}"
              ]
            },
            "description": "Remove a team member from the company"
          },
          "response": []
        }
      ],
      "description": "Endpoints for team management"
    },
    {
      "name": "4. Inventory Management",
      "item": [
        {
          "name": "Add Product",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Test Product\",\n    \"sku\": \"TP-001\",\n    \"description\": \"This is a test product\",\n    \"category\": \"Electronics\",\n    \"dimensions\": {\n        \"length\": 10,\n        \"width\": 5,\n        \"height\": 2,\n        \"unit\": \"cm\"\n    },\n    \"weight\": {\n        \"value\": 0.5,\n        \"unit\": \"kg\"\n    },\n    \"price\": {\n        \"value\": 999.99,\n        \"currency\": \"INR\"\n    },\n    \"attributes\": {\n        \"color\": \"Black\",\n        \"material\": \"Plastic\",\n        \"brand\": \"Test Brand\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "products"
              ]
            },
            "description": "Add a new product to the inventory"
          },
          "response": []
        },
        {
          "name": "Get Products",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/products",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "products"
              ]
            },
            "description": "Get all products for a company"
          },
          "response": []
        },
        {
          "name": "Update Product",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Updated Test Product\",\n    \"description\": \"This is an updated test product\",\n    \"price\": {\n        \"value\": 1299.99,\n        \"currency\": \"INR\"\n    },\n    \"attributes\": {\n        \"color\": \"Blue\",\n        \"material\": \"Metal\",\n        \"brand\": \"Test Brand\"\n    }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}"
              ]
            },
            "description": "Update product details"
          },
          "response": []
        },
        {
          "name": "Upload Product Image",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "image",
                  "type": "file",
                  "src": "/path/to/product-image.jpg"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/products/{{productId}}/images",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "products",
                "{{productId}}",
                "images"
              ]
            },
            "description": "Upload product image"
          },
          "response": []
        }
      ],
      "description": "Endpoints for inventory management"
    },
    {
      "name": "5. Order Management",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"customer\": {\n        \"name\": \"Customer Name\",\n        \"email\": \"customer@example.com\",\n        \"phone\": \"+919876543210\",\n        \"address\": {\n            \"line1\": \"123 Customer St\",\n            \"city\": \"Mumbai\",\n            \"state\": \"Maharashtra\",\n            \"country\": \"India\",\n            \"postalCode\": \"400001\"\n        }\n    },\n    \"items\": [\n        {\n            \"productId\": \"{{productId}}\",\n            \"quantity\": 2,\n            \"price\": 999.99\n        }\n    ],\n    \"shipping\": {\n        \"method\": \"standard\",\n        \"cost\": 100,\n        \"estimatedDelivery\": \"2023-12-25\"\n    },\n    \"payment\": {\n        \"method\": \"cod\",\n        \"status\": \"pending\"\n    },\n    \"notes\": \"Test order\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "orders"
              ]
            },
            "description": "Create a new order"
          },
          "response": []
        },
        {
          "name": "Get Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/companies/{{companyId}}/orders",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "companies",
                "{{companyId}}",
                "orders"
              ]
            },
            "description": "Get all orders for a company"
          },
          "response": []
        },
        {
          "name": "Get Order",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "orders",
                "{{orderId}}"
              ]
            },
            "description": "Get order details"
          },
          "response": []
        },
        {
          "name": "Update Order Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"status\": \"processing\",\n    \"notes\": \"Order is being processed\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}/status",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "orders",
                "{{orderId}}",
                "status"
              ]
            },
            "description": "Update order status"
          },
          "response": []
        },
        {
          "name": "Create Shipment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              },
              {
                "key": "x-csrf-token",
                "value": "{{csrfToken}}",
                "description": "CSRF token for protection"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"carrier\": \"BlueDart\",\n    \"trackingNumber\": \"{{trackingNumber}}\",\n    \"items\": [\n        {\n            \"productId\": \"{{productId}}\",\n            \"quantity\": 2\n        }\n    ],\n    \"shippingDate\": \"2023-12-20\",\n    \"estimatedDeliveryDate\": \"2023-12-25\",\n    \"warehouseId\": \"{{warehouseId}}\",\n    \"notes\": \"Handle with care\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}/shipments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "orders",
                "{{orderId}}",
                "shipments"
              ]
            },
            "description": "Create a shipment for an order"
          },
          "response": []
        },
        {
          "name": "Get Shipments",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{accessToken}}",
                "description": "JWT access token"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/orders/{{orderId}}/shipments",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "orders",
                "{{orderId}}",
                "shipments"
              ]
            },
            "description": "Get all shipments for an order"
          },
          "response": []
        }
      ],
      "description": "Endpoints for order management"
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Generate a CSRF token if not already set",
          "if (!pm.environment.get('csrfToken')) {",
          "    var uuid = require('uuid');",
          "    pm.environment.set('csrfToken', uuid.v4());",
          "}",
          "",
          "// Ensure user variables are set with valid test values",
          "if (!pm.environment.get('userEmail')) {",
          "    pm.environment.set('userEmail', 'business.cyperstudio@gmail.com');",
          "}",
          "if (!pm.environment.get('userName')) {",
          "    pm.environment.set('userName', 'Dhiraj Giri');",
          "}",
          "if (!pm.environment.get('testPhoneNumber')) {",
          "    pm.environment.set('testPhoneNumber', '+919904392992');",
          "}",
          "if (!pm.environment.get('companyName')) {",
          "    pm.environment.set('companyName', 'Cyper Studio');",
          "}",
          "if (!pm.environment.get('panNumber')) {",
          "    pm.environment.set('panNumber', 'DPYPG3276Q');",
          "}",
          "if (!pm.environment.get('gstinNumber')) {",
          "    pm.environment.set('gstinNumber', '24DPYPG3276Q1ZW');",
          "}",
          "",
          "// Set Origin header to mimic request from frontend",
          "const clientUrl = pm.environment.get('clientUrl') || 'http://localhost:3000';",
          "pm.request.headers.add({",
          "    key: 'Origin',",
          "    value: clientUrl",
          "});"
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5005",
      "type": "string",
      "description": "Base URL for the Shipcrowd API server"
    },
    {
      "key": "companyId",
      "value": "your-company-id",
      "type": "string",
      "description": "ID of the company for CRUD operations"
    },
    {
      "key": "warehouseId",
      "value": "your-warehouse-id",
      "type": "string",
      "description": "ID of the warehouse for CRUD operations"
    }
  ]
}