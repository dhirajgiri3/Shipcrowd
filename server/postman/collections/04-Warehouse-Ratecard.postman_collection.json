{
  "info": {
    "name": "04 - Warehouse & Ratecard",
    "description": "Complete warehouse operations including inventory, picking, packing workflows, and ratecard management.\n\n**Total Endpoints:** 52\n\n**Folders:**\n- Warehouse Management (6 endpoints)\n- Inventory Management (14 endpoints)\n- Picking Management (13 endpoints)\n- Packing Management (14 endpoints)\n- Ratecard Management (5 endpoints)\n\n**Prerequisites:**\n- Valid JWT access token (auto-refreshed)\n- KYC verification required for all operations\n- Production tier required for warehouse CRUD\n- Role-based access for inventory/picking/packing operations\n\n**Auto Features:**\n- Token refresh on 401 responses\n- Auto-stores WAREHOUSE_ID, INVENTORY_ID, PICK_LIST_ID, STATION_ID, RATECARD_ID\n- Global test assertions for all responses\n- Console logging for debugging",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{ACCESS_TOKEN}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Auto token refresh logic",
          "const accessToken = pm.environment.get('ACCESS_TOKEN');",
          "const tokenExpiry = pm.environment.get('TOKEN_EXPIRY');",
          "",
          "if (!accessToken || !tokenExpiry || Date.now() >= parseInt(tokenExpiry)) {",
          "    console.log('Token expired or missing, refreshing...');",
          "    ",
          "    const refreshToken = pm.environment.get('REFRESH_TOKEN');",
          "    if (!refreshToken) {",
          "        console.error('No refresh token available. Please login first.');",
          "        return;",
          "    }",
          "    ",
          "    pm.sendRequest({",
          "        url: pm.environment.get('BASE_URL') + '/auth/refresh',",
          "        method: 'POST',",
          "        header: {",
          "            'Content-Type': 'application/json'",
          "        },",
          "        body: {",
          "            mode: 'raw',",
          "            raw: JSON.stringify({",
          "                refreshToken: refreshToken",
          "            })",
          "        }",
          "    }, (err, res) => {",
          "        if (err) {",
          "            console.error('Token refresh failed:', err);",
          "            return;",
          "        }",
          "        ",
          "        const data = res.json().data;",
          "        pm.environment.set('ACCESS_TOKEN', data.accessToken);",
          "        pm.environment.set('TOKEN_EXPIRY', Date.now() + (14 * 60 * 1000));",
          "        console.log('Token refreshed successfully');",
          "    });",
          "}"
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// Global test assertions",
          "pm.test('Status code is 2xx or 3xx', function () {",
          "    pm.expect(pm.response.code).to.be.oneOf([200, 201, 204, 301, 302, 304]);",
          "});",
          "",
          "pm.test('Response time is less than 5s', function () {",
          "    pm.expect(pm.response.responseTime).to.be.below(5000);",
          "});",
          "",
          "if (pm.response.code !== 204) {",
          "    pm.test('Response has correct content-type', function () {",
          "        pm.expect(pm.response.headers.get('Content-Type')).to.include('application/json');",
          "    });",
          "    ",
          "    pm.test('Response has valid JSON body', function () {",
          "        pm.response.to.be.json;",
          "    });",
          "}",
          "",
          "// Log response for debugging",
          "console.log('Response Status:', pm.response.code);",
          "console.log('Response Body:', pm.response.text());"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Warehouse Management",
      "item": [
        {
          "name": "Create Warehouse",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mumbai Central Warehouse\",\n  \"code\": \"MCW-001\",\n  \"address\": {\n    \"line1\": \"Plot 45, MIDC Industrial Area\",\n    \"line2\": \"Andheri East\",\n    \"city\": \"Mumbai\",\n    \"state\": \"Maharashtra\",\n    \"pincode\": \"400093\",\n    \"country\": \"India\"\n  },\n  \"contact\": {\n    \"name\": \"Rajesh Kumar\",\n    \"phone\": \"+919876543210\",\n    \"email\": \"rajesh@warehouse.com\"\n  },\n  \"operatingHours\": {\n    \"monday\": { \"open\": \"09:00\", \"close\": \"18:00\" },\n    \"tuesday\": { \"open\": \"09:00\", \"close\": \"18:00\" },\n    \"wednesday\": { \"open\": \"09:00\", \"close\": \"18:00\" },\n    \"thursday\": { \"open\": \"09:00\", \"close\": \"18:00\" },\n    \"friday\": { \"open\": \"09:00\", \"close\": \"18:00\" },\n    \"saturday\": { \"open\": \"09:00\", \"close\": \"14:00\" },\n    \"sunday\": { \"closed\": true }\n  },\n  \"capacity\": {\n    \"totalArea\": 5000,\n    \"usableArea\": 4500,\n    \"storageUnits\": 1000\n  },\n  \"active\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses"]
            },
            "description": "**POST /warehouses**\n\n**Access:** Production tier + KYC required\n\n**Purpose:**\nCreate a new warehouse facility for storing inventory and managing fulfillment operations.\n\n**Business Logic:**\n- Warehouse code must be unique within the company\n- Address validation ensures proper pincode format\n- Operating hours define when warehouse operations are allowed\n- Capacity tracking helps monitor warehouse utilization\n- Multi-warehouse support for distributed fulfillment\n\n**Request Body:**\n```json\n{\n  \"name\": string (required) - Warehouse display name,\n  \"code\": string (required) - Unique warehouse identifier,\n  \"address\": object (required) - Complete warehouse address with pincode,\n  \"contact\": object (required) - Warehouse manager contact details,\n  \"operatingHours\": object (optional) - Daily operating schedule,\n  \"capacity\": object (optional) - Warehouse capacity metrics,\n  \"active\": boolean (default: true) - Warehouse operational status\n}\n```\n\n**Validation:**\n- Name: 3-100 characters\n- Code: Alphanumeric, 3-20 characters, unique\n- Pincode: Valid Indian pincode format\n- Phone: Valid Indian mobile number\n- Email: Valid email format\n\n**Response:** Created warehouse object with generated ID\n\n**Use Cases:**\n- Setting up new fulfillment center\n- Expanding to new geographical region\n- Adding dark store for quick commerce"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.environment.set('WAREHOUSE_ID', response.data.id);",
                  "        console.log('Stored WAREHOUSE_ID:', response.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get All Warehouses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses?page=1&limit=20&active=true",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "active",
                  "value": "true"
                }
              ]
            },
            "description": "**GET /warehouses**\n\n**Access:** Sandbox tier+\n\n**Purpose:**\nRetrieve list of all warehouses with pagination and filtering options.\n\n**Query Parameters:**\n- `page` (optional): Page number (default: 1)\n- `limit` (optional): Items per page (default: 20, max: 100)\n- `active` (optional): Filter by active status (true/false)\n- `search` (optional): Search by name or code\n- `city` (optional): Filter by city\n- `state` (optional): Filter by state\n\n**Response:** Paginated list of warehouses with metadata\n\n**Use Cases:**\n- Viewing all warehouse facilities\n- Selecting warehouse for order assignment\n- Warehouse management dashboard"
          },
          "response": []
        },
        {
          "name": "Get Warehouse by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/{{WAREHOUSE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "{{WAREHOUSE_ID}}"]
            },
            "description": "**GET /warehouses/:warehouseId**\n\n**Access:** Sandbox tier+\n\n**Purpose:**\nRetrieve detailed information about a specific warehouse including capacity, utilization, and operational status.\n\n**Response:**\n```json\n{\n  \"id\": \"warehouse_id\",\n  \"name\": \"Warehouse name\",\n  \"code\": \"WHC-001\",\n  \"address\": {...},\n  \"contact\": {...},\n  \"operatingHours\": {...},\n  \"capacity\": {...},\n  \"utilization\": {\n    \"usedArea\": 3200,\n    \"usedUnits\": 750,\n    \"percentageUsed\": 71.11\n  },\n  \"active\": true,\n  \"stats\": {\n    \"totalInventory\": 5000,\n    \"activeOrders\": 120,\n    \"todayShipments\": 45\n  }\n}\n```\n\n**Use Cases:**\n- Viewing warehouse details\n- Checking warehouse capacity\n- Monitoring warehouse operations"
          },
          "response": []
        },
        {
          "name": "Update Warehouse",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Mumbai Central Warehouse - Updated\",\n  \"contact\": {\n    \"name\": \"Rajesh Kumar\",\n    \"phone\": \"+919876543210\",\n    \"email\": \"rajesh.updated@warehouse.com\"\n  },\n  \"active\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/{{WAREHOUSE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "{{WAREHOUSE_ID}}"]
            },
            "description": "**PATCH /warehouses/:warehouseId**\n\n**Access:** Production tier + KYC required\n\n**Purpose:**\nUpdate warehouse information including name, contact, operating hours, and status.\n\n**Request Body:** Partial warehouse object (only fields to update)\n\n**Validation:**\n- Cannot update warehouse code (immutable after creation)\n- Cannot deactivate warehouse with active inventory\n- Cannot update capacity if current usage exceeds new capacity\n\n**Use Cases:**\n- Updating contact information\n- Modifying operating hours\n- Temporarily deactivating warehouse"
          },
          "response": []
        },
        {
          "name": "Delete Warehouse",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/{{WAREHOUSE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "{{WAREHOUSE_ID}}"]
            },
            "description": "**DELETE /warehouses/:warehouseId**\n\n**Access:** Production tier + KYC required\n\n**Purpose:**\nSoft delete a warehouse (marks as deleted, doesn't physically remove).\n\n**Business Rules:**\n- Cannot delete warehouse with active inventory\n- Cannot delete warehouse with pending orders\n- Cannot delete warehouse with active staff assignments\n- Soft deletion preserves historical data\n\n**Response:** 204 No Content on success\n\n**Use Cases:**\n- Closing down warehouse facility\n- Removing test/demo warehouses"
          },
          "response": []
        },
        {
          "name": "Import Warehouses (CSV)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": []
                }
              ]
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/import",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "import"]
            },
            "description": "**POST /warehouses/import**\n\n**Access:** Production tier + KYC required\n\n**Purpose:**\nBulk import warehouses from CSV file.\n\n**File Requirements:**\n- Format: CSV (text/csv or application/vnd.ms-excel)\n- Size: Max 5MB\n- Encoding: UTF-8\n\n**CSV Columns:**\n```\nname,code,address_line1,address_line2,city,state,pincode,country,contact_name,contact_phone,contact_email,active\n```\n\n**Validation:**\n- All required fields must be present\n- Duplicate codes will be skipped\n- Invalid rows logged in response\n\n**Response:**\n```json\n{\n  \"success\": true,\n  \"imported\": 45,\n  \"failed\": 5,\n  \"errors\": [\n    {\"row\": 3, \"error\": \"Invalid pincode\"},\n    {\"row\": 7, \"error\": \"Duplicate code\"}\n  ]\n}\n```\n\n**Use Cases:**\n- Bulk warehouse setup for new clients\n- Migrating from another system\n- Batch updates to multiple warehouses"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Inventory Management",
      "item": [
        {
          "name": "Create Inventory",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n  \"sku\": \"PROD-12345\",\n  \"name\": \"Cotton T-Shirt Blue XL\",\n  \"description\": \"Premium cotton t-shirt in blue color, size XL\",\n  \"category\": \"Apparel\",\n  \"weight\": 250,\n  \"dimensions\": {\n    \"length\": 30,\n    \"width\": 25,\n    \"height\": 5\n  },\n  \"initialQuantity\": 500,\n  \"reorderPoint\": 50,\n  \"reorderQuantity\": 200,\n  \"location\": \"A-12-03\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory"]
            },
            "description": "**POST /warehouses/inventory**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nAdd new product SKU to warehouse inventory with initial stock quantity.\n\n**Business Logic:**\n- SKU must be unique per warehouse\n- Initial quantity creates first inventory movement (receipt)\n- Reorder point triggers low stock alerts\n- Location helps with warehouse floor management\n\n**Request Body:**\n```json\n{\n  \"warehouseId\": string (required),\n  \"sku\": string (required) - Stock Keeping Unit,\n  \"name\": string (required) - Product name,\n  \"description\": string (optional),\n  \"category\": string (optional),\n  \"weight\": number (grams),\n  \"dimensions\": object (cm),\n  \"initialQuantity\": number (required),\n  \"reorderPoint\": number (optional),\n  \"reorderQuantity\": number (optional),\n  \"location\": string (optional) - Warehouse bin location\n}\n```\n\n**Response:** Created inventory record with ID\n\n**Use Cases:**\n- Adding new product to catalog\n- Initial stock receipt\n- Setting up inventory tracking"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.environment.set('INVENTORY_ID', response.data.id);",
                  "        console.log('Stored INVENTORY_ID:', response.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Inventory List",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory?warehouseId={{WAREHOUSE_ID}}&page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{WAREHOUSE_ID}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "sku",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "category",
                  "value": "",
                  "disabled": true
                },
                {
                  "key": "lowStock",
                  "value": "true",
                  "disabled": true
                }
              ]
            },
            "description": "**GET /warehouses/inventory**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve paginated list of all inventory items with filtering options.\n\n**Query Parameters:**\n- `warehouseId` (optional): Filter by warehouse\n- `page` (optional): Page number\n- `limit` (optional): Items per page\n- `sku` (optional): Search by SKU\n- `category` (optional): Filter by category\n- `lowStock` (optional): Show only items below reorder point\n\n**Response:** Paginated inventory list with stock levels\n\n**Use Cases:**\n- Viewing warehouse stock\n- Inventory dashboard\n- Stock level monitoring"
          },
          "response": []
        },
        {
          "name": "Get Inventory by SKU",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/sku/{{WAREHOUSE_ID}}/PROD-12345",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "sku", "{{WAREHOUSE_ID}}", "PROD-12345"]
            },
            "description": "**GET /warehouses/inventory/sku/:warehouseId/:sku**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve inventory details for specific SKU in a warehouse.\n\n**Response:**\n```json\n{\n  \"id\": \"inv_id\",\n  \"sku\": \"PROD-12345\",\n  \"name\": \"Product name\",\n  \"available\": 450,\n  \"reserved\": 50,\n  \"damaged\": 5,\n  \"total\": 505,\n  \"reorderPoint\": 50,\n  \"location\": \"A-12-03\",\n  \"lastMovement\": \"2024-01-15T10:30:00Z\"\n}\n```\n\n**Use Cases:**\n- Checking product availability\n- Order fulfillment validation\n- Inventory lookup by SKU"
          },
          "response": []
        },
        {
          "name": "Get Inventory by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}"]
            },
            "description": "**GET /warehouses/inventory/:id**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve detailed inventory information including movement history and stock breakdown.\n\n**Response:** Complete inventory record with stock status and recent movements\n\n**Use Cases:**\n- Viewing inventory details\n- Stock audit\n- Investigating discrepancies"
          },
          "response": []
        },
        {
          "name": "Receive Stock",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n  \"sku\": \"PROD-12345\",\n  \"quantity\": 200,\n  \"reference\": \"PO-2024-001\",\n  \"notes\": \"Received from supplier XYZ\",\n  \"location\": \"A-12-03\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/receive",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "receive"]
            },
            "description": "**POST /warehouses/inventory/receive**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nRecord receipt of stock from supplier or transfer. Increases available quantity.\n\n**Business Logic:**\n- Creates inventory movement record\n- Updates available quantity\n- Tracks reference (PO number, GRN, etc.)\n- Updates location if provided\n\n**Request Body:**\n```json\n{\n  \"warehouseId\": string (required),\n  \"sku\": string (required),\n  \"quantity\": number (required, positive),\n  \"reference\": string (optional),\n  \"notes\": string (optional),\n  \"location\": string (optional)\n}\n```\n\n**Rate Limit:** 30 operations per minute\n\n**Use Cases:**\n- Recording new stock arrival\n- Processing purchase orders\n- Inter-warehouse transfers"
          },
          "response": []
        },
        {
          "name": "Adjust Stock",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": -5,\n  \"reason\": \"Physical count adjustment\",\n  \"notes\": \"Found 5 units damaged during cycle count\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/adjust",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "adjust"]
            },
            "description": "**POST /warehouses/inventory/:id/adjust**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nManually adjust stock quantity for corrections, cycle counts, or discrepancies.\n\n**Business Logic:**\n- Can be positive (add) or negative (remove)\n- Creates adjustment movement record\n- Requires reason for audit trail\n- Affects available quantity\n\n**Request Body:**\n```json\n{\n  \"quantity\": number (required, can be negative),\n  \"reason\": string (required) - Adjustment reason,\n  \"notes\": string (optional)\n}\n```\n\n**Rate Limit:** 30 operations per minute\n\n**Common Reasons:**\n- Physical count adjustment\n- Damage found\n- Theft/loss\n- System error correction\n\n**Use Cases:**\n- Cycle count adjustments\n- Correcting data entry errors\n- Recording shrinkage"
          },
          "response": []
        },
        {
          "name": "Reserve Stock",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 10,\n  \"orderId\": \"{{TEST_ORDER_ID}}\",\n  \"expiresAt\": \"2024-01-20T18:00:00Z\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/reserve",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "reserve"]
            },
            "description": "**POST /warehouses/inventory/:id/reserve**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nReserve stock for a specific order. Moves quantity from available to reserved.\n\n**Business Logic:**\n- Checks available quantity before reserving\n- Creates reservation with expiry\n- Prevents overselling\n- Auto-releases if expired\n- Links to order ID\n\n**Request Body:**\n```json\n{\n  \"quantity\": number (required, positive),\n  \"orderId\": string (required),\n  \"expiresAt\": datetime (optional, default: 24 hours)\n}\n```\n\n**Validation:**\n- Quantity must not exceed available stock\n- Order ID must be valid\n- Expiry must be in future\n\n**Rate Limit:** 30 operations per minute\n\n**Use Cases:**\n- Order placement\n- Cart checkout\n- Pre-fulfillment stock allocation"
          },
          "response": []
        },
        {
          "name": "Release Reservation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"orderId\": \"{{TEST_ORDER_ID}}\",\n  \"reason\": \"Order cancelled\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/release",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "release"]
            },
            "description": "**POST /warehouses/inventory/:id/release**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nRelease reserved stock back to available. Used when order is cancelled or expired.\n\n**Business Logic:**\n- Moves quantity from reserved to available\n- Validates order ID matches reservation\n- Creates movement record\n- Allows stock to be re-allocated\n\n**Request Body:**\n```json\n{\n  \"orderId\": string (required),\n  \"reason\": string (optional)\n}\n```\n\n**Rate Limit:** 30 operations per minute\n\n**Use Cases:**\n- Order cancellation\n- Payment failure\n- Reservation expiry\n- Stock reallocation"
          },
          "response": []
        },
        {
          "name": "Transfer Stock",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"toWarehouseId\": \"warehouse_id_2\",\n  \"quantity\": 50,\n  \"reference\": \"TRF-2024-001\",\n  \"notes\": \"Transfer to Delhi warehouse for regional demand\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/transfer",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "transfer"]
            },
            "description": "**POST /warehouses/inventory/:id/transfer**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nTransfer stock from one warehouse to another within the same company.\n\n**Business Logic:**\n- Reduces quantity in source warehouse\n- Increases quantity in destination warehouse\n- Creates movement records in both warehouses\n- Tracks transfer reference\n- Validates sufficient stock availability\n\n**Request Body:**\n```json\n{\n  \"toWarehouseId\": string (required),\n  \"quantity\": number (required, positive),\n  \"reference\": string (optional),\n  \"notes\": string (optional)\n}\n```\n\n**Validation:**\n- Source and destination warehouses must be different\n- Both warehouses must belong to same company\n- Sufficient available stock in source\n- SKU must exist in both warehouses\n\n**Rate Limit:** 30 operations per minute\n\n**Use Cases:**\n- Balancing stock across regions\n- Responding to demand shifts\n- Consolidating inventory"
          },
          "response": []
        },
        {
          "name": "Mark as Damaged",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"quantity\": 3,\n  \"reason\": \"Water damage during monsoon\",\n  \"notes\": \"Items found damaged in section B-15\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/damage",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "damage"]
            },
            "description": "**POST /warehouses/inventory/:id/damage**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nMark stock units as damaged, moving them from available to damaged status.\n\n**Business Logic:**\n- Moves quantity from available to damaged\n- Creates damage record for tracking\n- Prevents damaged stock from being allocated\n- Used for insurance/vendor claims\n- Helps identify damage patterns\n\n**Request Body:**\n```json\n{\n  \"quantity\": number (required, positive),\n  \"reason\": string (required),\n  \"notes\": string (optional)\n}\n```\n\n**Rate Limit:** 30 operations per minute\n\n**Common Reasons:**\n- Water damage\n- Physical damage in transit\n- Expiry/spoilage\n- Manufacturing defect\n- Handling damage\n\n**Use Cases:**\n- Quality control rejections\n- Post-receipt inspection failures\n- Warehouse incidents\n- Insurance claims"
          },
          "response": []
        },
        {
          "name": "Cycle Count",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"countedQuantity\": 495,\n  \"countedBy\": \"John Doe\",\n  \"notes\": \"Weekly cycle count - Section A\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/{{INVENTORY_ID}}/cycle-count",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "{{INVENTORY_ID}}", "cycle-count"]
            },
            "description": "**POST /warehouses/inventory/:id/cycle-count**\n\n**Access:** KYC required + Inventory Manager role\n\n**Purpose:**\nRecord physical count during cycle count process and auto-adjust discrepancies.\n\n**Business Logic:**\n- Records physical count\n- Compares with system quantity\n- Auto-creates adjustment if discrepancy found\n- Tracks counter name for accountability\n- Helps maintain inventory accuracy\n\n**Request Body:**\n```json\n{\n  \"countedQuantity\": number (required),\n  \"countedBy\": string (required),\n  \"notes\": string (optional)\n}\n```\n\n**Response:**\n```json\n{\n  \"systemQuantity\": 500,\n  \"countedQuantity\": 495,\n  \"discrepancy\": -5,\n  \"adjusted\": true,\n  \"accuracy\": 99.0\n}\n```\n\n**Rate Limit:** 30 operations per minute\n\n**Use Cases:**\n- Regular inventory audits\n- Accuracy verification\n- Shrinkage detection\n- Compliance requirements"
          },
          "response": []
        },
        {
          "name": "Check Availability",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    {\n      \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n      \"sku\": \"PROD-12345\",\n      \"quantity\": 10\n    },\n    {\n      \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n      \"sku\": \"PROD-67890\",\n      \"quantity\": 5\n    }\n  ]\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/check-availability",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "check-availability"]
            },
            "description": "**POST /warehouses/inventory/check-availability**\n\n**Access:** KYC required\n\n**Purpose:**\nBulk check stock availability for multiple items across warehouses.\n\n**Request Body:**\n```json\n{\n  \"items\": [\n    {\n      \"warehouseId\": string (required),\n      \"sku\": string (required),\n      \"quantity\": number (required)\n    }\n  ]\n}\n```\n\n**Response:**\n```json\n{\n  \"available\": true,\n  \"items\": [\n    {\n      \"sku\": \"PROD-12345\",\n      \"requested\": 10,\n      \"available\": 450,\n      \"sufficient\": true\n    },\n    {\n      \"sku\": \"PROD-67890\",\n      \"requested\": 5,\n      \"available\": 3,\n      \"sufficient\": false\n    }\n  ]\n}\n```\n\n**Use Cases:**\n- Pre-order validation\n- Cart availability check\n- Fulfillment planning"
          },
          "response": []
        },
        {
          "name": "Get Low Stock Alerts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/alerts/low-stock?warehouseId={{WAREHOUSE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "alerts", "low-stock"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{WAREHOUSE_ID}}"
                }
              ]
            },
            "description": "**GET /warehouses/inventory/alerts/low-stock**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve list of inventory items below their reorder point.\n\n**Query Parameters:**\n- `warehouseId` (optional): Filter by warehouse\n\n**Response:**\n```json\n{\n  \"alerts\": [\n    {\n      \"sku\": \"PROD-12345\",\n      \"name\": \"Product name\",\n      \"available\": 45,\n      \"reorderPoint\": 50,\n      \"reorderQuantity\": 200,\n      \"deficit\": 5,\n      \"warehouseName\": \"Mumbai Warehouse\"\n    }\n  ]\n}\n```\n\n**Use Cases:**\n- Procurement planning\n- Stock replenishment dashboard\n- Avoiding stockouts"
          },
          "response": []
        },
        {
          "name": "Get Inventory Movements",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/inventory/movements?inventoryId={{INVENTORY_ID}}&page=1&limit=50",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "inventory", "movements"],
              "query": [
                {
                  "key": "inventoryId",
                  "value": "{{INVENTORY_ID}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "50"
                },
                {
                  "key": "type",
                  "value": "receive",
                  "disabled": true
                },
                {
                  "key": "fromDate",
                  "value": "2024-01-01",
                  "disabled": true
                },
                {
                  "key": "toDate",
                  "value": "2024-01-31",
                  "disabled": true
                }
              ]
            },
            "description": "**GET /warehouses/inventory/movements**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve inventory movement history with filtering options.\n\n**Query Parameters:**\n- `inventoryId` (optional): Filter by inventory item\n- `warehouseId` (optional): Filter by warehouse\n- `type` (optional): Movement type (receive, adjust, reserve, release, transfer, damage)\n- `fromDate` (optional): Start date\n- `toDate` (optional): End date\n- `page`, `limit`: Pagination\n\n**Response:** Paginated list of movement records\n\n**Use Cases:**\n- Audit trail\n- Investigating discrepancies\n- Movement analysis"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Picking Management",
      "item": [
        {
          "name": "Create Pick List",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n  \"orderIds\": [\"{{TEST_ORDER_ID}}\"],\n  \"priority\": \"high\",\n  \"notes\": \"Express orders - pick immediately\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists"]
            },
            "description": "**POST /warehouses/picking/pick-lists**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nCreate a pick list for one or multiple orders. Generates optimized picking route.\n\n**Business Logic:**\n- Consolidates items from multiple orders\n- Optimizes picking sequence by location\n- Validates all items have sufficient stock\n- Reserves stock for picked items\n- Assigns priority for pick scheduling\n\n**Request Body:**\n```json\n{\n  \"warehouseId\": string (required),\n  \"orderIds\": array of strings (required),\n  \"priority\": string (optional: normal|high|urgent, default: normal),\n  \"notes\": string (optional)\n}\n```\n\n**Response:**\n```json\n{\n  \"id\": \"pick_list_id\",\n  \"pickNumber\": \"PL-2024-001\",\n  \"items\": [\n    {\n      \"sku\": \"PROD-12345\",\n      \"quantity\": 10,\n      \"location\": \"A-12-03\",\n      \"sequence\": 1\n    }\n  ],\n  \"totalItems\": 25,\n  \"totalOrders\": 3,\n  \"status\": \"pending\"\n}\n```\n\n**Use Cases:**\n- Batch picking for multiple orders\n- Express order picking\n- Scheduled pick wave creation"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.environment.set('PICK_LIST_ID', response.data.id);",
                  "        console.log('Stored PICK_LIST_ID:', response.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Pick Lists",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists?warehouseId={{WAREHOUSE_ID}}&status=pending&page=1&limit=20",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{WAREHOUSE_ID}}"
                },
                {
                  "key": "status",
                  "value": "pending"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "20"
                }
              ]
            },
            "description": "**GET /warehouses/picking/pick-lists**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve list of all pick lists with filtering.\n\n**Query Parameters:**\n- `warehouseId` (optional): Filter by warehouse\n- `status` (optional): pending|assigned|picking|completed|verified|cancelled\n- `priority` (optional): normal|high|urgent\n- `assignedTo` (optional): Filter by assigned picker\n- `page`, `limit`: Pagination\n\n**Response:** Paginated list of pick lists\n\n**Use Cases:**\n- Warehouse dashboard\n- Pick list queue management\n- Performance monitoring"
          },
          "response": []
        },
        {
          "name": "Get My Pick Lists",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/my-pick-lists?status=assigned",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "my-pick-lists"],
              "query": [
                {
                  "key": "status",
                  "value": "assigned"
                }
              ]
            },
            "description": "**GET /warehouses/picking/my-pick-lists**\n\n**Access:** KYC required + Picker role\n\n**Purpose:**\nRetrieve pick lists assigned to the authenticated picker.\n\n**Query Parameters:**\n- `status` (optional): Filter by status\n\n**Response:** List of pick lists assigned to current user\n\n**Use Cases:**\n- Picker mobile app\n- My tasks view\n- Work queue"
          },
          "response": []
        },
        {
          "name": "Get Pick List by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}"]
            },
            "description": "**GET /warehouses/picking/pick-lists/:id**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve detailed pick list information including items, progress, and picking instructions.\n\n**Response:**\n```json\n{\n  \"id\": \"pick_list_id\",\n  \"pickNumber\": \"PL-2024-001\",\n  \"status\": \"picking\",\n  \"items\": [...],\n  \"progress\": {\n    \"picked\": 15,\n    \"remaining\": 10,\n    \"skipped\": 0,\n    \"percentage\": 60\n  },\n  \"assignedTo\": {...},\n  \"startedAt\": \"2024-01-15T10:00:00Z\"\n}\n```\n\n**Use Cases:**\n- Viewing pick list details\n- Tracking picking progress\n- Pick list verification"
          },
          "response": []
        },
        {
          "name": "Assign Pick List",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickerId\": \"user_id_picker\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/assign",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "assign"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/assign**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nAssign pick list to a specific picker.\n\n**Business Logic:**\n- Picker must be active and available\n- Pick list must be in pending status\n- Notifies picker of assignment\n- Updates pick list status to assigned\n\n**Request Body:**\n```json\n{\n  \"pickerId\": string (required)\n}\n```\n\n**Use Cases:**\n- Manual pick list assignment\n- Priority order handling\n- Load balancing across pickers"
          },
          "response": []
        },
        {
          "name": "Start Picking",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/start",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "start"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/start**\n\n**Access:** KYC required + Picker role\n\n**Purpose:**\nStart picking process for assigned pick list.\n\n**Business Logic:**\n- Pick list must be assigned to requesting picker\n- Updates status to 'picking'\n- Records start timestamp\n- Initializes picking session\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Starting pick wave\n- Beginning picking session\n- Mobile scanner initiation"
          },
          "response": []
        },
        {
          "name": "Pick Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"itemId\": \"pick_item_id\",\n  \"quantityPicked\": 10,\n  \"location\": \"A-12-03\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/pick",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "pick"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/pick**\n\n**Access:** KYC required + Picker role\n\n**Purpose:**\nRecord item picked from warehouse location.\n\n**Business Logic:**\n- Validates quantity matches pick list\n- Confirms location matches expected\n- Updates item status to picked\n- Calculates progress percentage\n- Creates inventory reservation\n\n**Request Body:**\n```json\n{\n  \"itemId\": string (required) - Pick list item ID,\n  \"quantityPicked\": number (required),\n  \"location\": string (required) - Confirmed location\n}\n```\n\n**Validation:**\n- Quantity must match expected (or allow short pick)\n- Location must match inventory record\n- Item must not already be picked\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Scanning items during picking\n- Recording successful picks\n- Real-time progress tracking"
          },
          "response": []
        },
        {
          "name": "Skip Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"itemId\": \"pick_item_id\",\n  \"reason\": \"Item not found at location\",\n  \"notes\": \"Location A-12-03 is empty\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/skip",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "skip"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/skip**\n\n**Access:** KYC required + Picker role\n\n**Purpose:**\nSkip an item that cannot be picked (not found, damaged, etc.).\n\n**Business Logic:**\n- Records reason for skip\n- Flags item for investigation\n- Updates pick list progress\n- Triggers inventory alert\n- Allows continuing with other items\n\n**Request Body:**\n```json\n{\n  \"itemId\": string (required),\n  \"reason\": string (required),\n  \"notes\": string (optional)\n}\n```\n\n**Common Reasons:**\n- Item not found at location\n- Item damaged\n- Quantity shortage\n- Location mismatch\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Handling stockouts\n- Recording discrepancies\n- Continuing partial picks"
          },
          "response": []
        },
        {
          "name": "Complete Pick List",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"All items picked successfully\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/complete",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "complete"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/complete**\n\n**Access:** KYC required + Picker role\n\n**Purpose:**\nMark pick list as completed after all items are picked.\n\n**Business Logic:**\n- Validates all items picked or skipped\n- Records completion timestamp\n- Calculates pick duration\n- Updates picker performance metrics\n- Triggers packing workflow\n- Releases picker for next pick list\n\n**Request Body:**\n```json\n{\n  \"notes\": string (optional)\n}\n```\n\n**Validation:**\n- All items must be picked or skipped\n- Pick list must be in picking status\n- Must be completed by assigned picker\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Finishing pick wave\n- Moving to packing stage\n- Recording pick completion"
          },
          "response": []
        },
        {
          "name": "Cancel Pick List",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"All orders cancelled\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/cancel",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "cancel"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/cancel**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nCancel pick list (e.g., if all orders are cancelled).\n\n**Business Logic:**\n- Releases all inventory reservations\n- Reverts picked items (if any)\n- Records cancellation reason\n- Frees up picker assignment\n- Updates order statuses\n\n**Request Body:**\n```json\n{\n  \"reason\": string (required)\n}\n```\n\n**Use Cases:**\n- Bulk order cancellation\n- Pick list errors\n- Priority changes"
          },
          "response": []
        },
        {
          "name": "Verify Pick List",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"verified\": true,\n  \"notes\": \"All items verified correct\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/verify",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "verify"]
            },
            "description": "**POST /warehouses/picking/pick-lists/:id/verify**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nVerify picked items before sending to packing (quality check).\n\n**Business Logic:**\n- Manager reviews picked items\n- Confirms quantities and items\n- Approves for packing\n- Can flag discrepancies\n- Updates verification status\n\n**Request Body:**\n```json\n{\n  \"verified\": boolean (required),\n  \"notes\": string (optional),\n  \"discrepancies\": array (optional) - If verified=false\n}\n```\n\n**Use Cases:**\n- Quality control\n- High-value order verification\n- Training/supervision"
          },
          "response": []
        },
        {
          "name": "Get Next Item",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/pick-lists/{{PICK_LIST_ID}}/next-item",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "pick-lists", "{{PICK_LIST_ID}}", "next-item"]
            },
            "description": "**GET /warehouses/picking/pick-lists/:id/next-item**\n\n**Access:** KYC required\n\n**Purpose:**\nGet next item to pick based on optimized sequence.\n\n**Response:**\n```json\n{\n  \"itemId\": \"pick_item_id\",\n  \"sku\": \"PROD-12345\",\n  \"name\": \"Product name\",\n  \"quantity\": 10,\n  \"location\": \"A-12-03\",\n  \"sequence\": 5,\n  \"remaining\": 20\n}\n```\n\n**Use Cases:**\n- Mobile picker app navigation\n- Sequential picking guidance\n- Optimized route following"
          },
          "response": []
        },
        {
          "name": "Get Picker Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/stats/picker/picker_user_id?period=today",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "stats", "picker", "picker_user_id"],
              "query": [
                {
                  "key": "period",
                  "value": "today"
                }
              ]
            },
            "description": "**GET /warehouses/picking/stats/picker/:pickerId**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nRetrieve performance statistics for a specific picker.\n\n**Query Parameters:**\n- `period` (optional): today|week|month\n\n**Response:**\n```json\n{\n  \"pickerId\": \"user_id\",\n  \"period\": \"today\",\n  \"pickLists\": {\n    \"completed\": 12,\n    \"pending\": 2\n  },\n  \"items\": {\n    \"picked\": 350,\n    \"skipped\": 5\n  },\n  \"performance\": {\n    \"avgPickTime\": \"2.5 mins\",\n    \"accuracy\": 98.5,\n    \"productivity\": 140\n  }\n}\n```\n\n**Use Cases:**\n- Performance monitoring\n- Productivity tracking\n- Incentive calculation"
          },
          "response": []
        },
        {
          "name": "Get Warehouse Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/picking/stats/warehouse/{{WAREHOUSE_ID}}?period=today",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "picking", "stats", "warehouse", "{{WAREHOUSE_ID}}"],
              "query": [
                {
                  "key": "period",
                  "value": "today"
                }
              ]
            },
            "description": "**GET /warehouses/picking/stats/warehouse/:warehouseId**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nRetrieve overall picking statistics for a warehouse.\n\n**Query Parameters:**\n- `period` (optional): today|week|month\n\n**Response:**\n```json\n{\n  \"warehouseId\": \"warehouse_id\",\n  \"period\": \"today\",\n  \"pickLists\": {\n    \"pending\": 5,\n    \"picking\": 8,\n    \"completed\": 47\n  },\n  \"items\": {\n    \"totalPicked\": 1250,\n    \"totalSkipped\": 15\n  },\n  \"activePickers\": 10,\n  \"avgPickTime\": \"3.2 mins\",\n  \"throughput\": 390\n}\n```\n\n**Use Cases:**\n- Warehouse dashboard\n- Operations monitoring\n- Capacity planning"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Packing Management",
      "item": [
        {
          "name": "Create Packing Station",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"warehouseId\": \"{{WAREHOUSE_ID}}\",\n  \"stationNumber\": \"PS-01\",\n  \"name\": \"Packing Station 1\",\n  \"capabilities\": [\"standard\", \"fragile\", \"oversized\"],\n  \"equipment\": {\n    \"weighScale\": true,\n    \"labelPrinter\": true,\n    \"scanner\": true,\n    \"tapeDispenser\": true\n  }\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations"]
            },
            "description": "**POST /warehouses/packing/stations**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nCreate a new packing station in warehouse.\n\n**Business Logic:**\n- Station number must be unique per warehouse\n- Defines packing capabilities\n- Tracks equipment availability\n- Enables station-based packing workflow\n\n**Request Body:**\n```json\n{\n  \"warehouseId\": string (required),\n  \"stationNumber\": string (required),\n  \"name\": string (required),\n  \"capabilities\": array (optional) - standard|fragile|oversized|refrigerated,\n  \"equipment\": object (optional) - Available equipment flags\n}\n```\n\n**Response:** Created station with ID and online status\n\n**Use Cases:**\n- Setting up packing area\n- Adding new station\n- Configuring packing capabilities"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.environment.set('STATION_ID', response.data.id);",
                  "        console.log('Stored STATION_ID:', response.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get Stations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations?warehouseId={{WAREHOUSE_ID}}&status=online",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations"],
              "query": [
                {
                  "key": "warehouseId",
                  "value": "{{WAREHOUSE_ID}}"
                },
                {
                  "key": "status",
                  "value": "online"
                }
              ]
            },
            "description": "**GET /warehouses/packing/stations**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve list of all packing stations.\n\n**Query Parameters:**\n- `warehouseId` (optional): Filter by warehouse\n- `status` (optional): online|offline|busy\n- `assignedTo` (optional): Filter by assigned packer\n\n**Response:** List of stations with status and assignments\n\n**Use Cases:**\n- Station availability dashboard\n- Workload distribution\n- Capacity monitoring"
          },
          "response": []
        },
        {
          "name": "Get Available Stations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/available/{{WAREHOUSE_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "available", "{{WAREHOUSE_ID}}"]
            },
            "description": "**GET /warehouses/packing/stations/available/:warehouseId**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve only available (online and not busy) packing stations.\n\n**Response:**\n```json\n{\n  \"available\": [\n    {\n      \"id\": \"station_id\",\n      \"stationNumber\": \"PS-01\",\n      \"name\": \"Packing Station 1\",\n      \"capabilities\": [...],\n      \"status\": \"online\"\n    }\n  ]\n}\n```\n\n**Use Cases:**\n- Finding free station\n- Station assignment\n- Capacity checking"
          },
          "response": []
        },
        {
          "name": "Get Station by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}"]
            },
            "description": "**GET /warehouses/packing/stations/:id**\n\n**Access:** KYC required\n\n**Purpose:**\nRetrieve detailed station information including current session and statistics.\n\n**Response:** Complete station details with session info\n\n**Use Cases:**\n- Viewing station details\n- Monitoring station activity\n- Session tracking"
          },
          "response": []
        },
        {
          "name": "Assign Packer to Station",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"packerId\": \"user_id_packer\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/assign",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "assign"]
            },
            "description": "**POST /warehouses/packing/stations/:id/assign**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nAssign a packer to a specific station.\n\n**Business Logic:**\n- Packer must have packer role\n- Station must be online and available\n- One packer per station\n- Records shift assignment\n\n**Request Body:**\n```json\n{\n  \"packerId\": string (required)\n}\n```\n\n**Use Cases:**\n- Shift start assignment\n- Station allocation\n- Workload balancing"
          },
          "response": []
        },
        {
          "name": "Unassign Packer",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/unassign",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "unassign"]
            },
            "description": "**POST /warehouses/packing/stations/:id/unassign**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nUnassign packer from station (shift end, break, etc.).\n\n**Business Logic:**\n- Cannot unassign if active packing session\n- Frees up station for reassignment\n- Records shift end\n\n**Use Cases:**\n- Shift end\n- Break time\n- Station rotation"
          },
          "response": []
        },
        {
          "name": "Set Station Offline",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Equipment maintenance\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/offline",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "offline"]
            },
            "description": "**POST /warehouses/packing/stations/:id/offline**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nMark station as offline (maintenance, closed, etc.).\n\n**Business Logic:**\n- Cannot go offline with active session\n- Prevents new assignments\n- Records offline reason\n\n**Request Body:**\n```json\n{\n  \"reason\": string (optional)\n}\n```\n\n**Use Cases:**\n- Equipment maintenance\n- End of shift\n- Station issues"
          },
          "response": []
        },
        {
          "name": "Set Station Online",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/online",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "online"]
            },
            "description": "**POST /warehouses/packing/stations/:id/online**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nBring station back online after offline period.\n\n**Business Logic:**\n- Makes station available for assignment\n- Clears offline reason\n- Enables packing operations\n\n**Use Cases:**\n- Completing maintenance\n- Starting shift\n- Reopening station"
          },
          "response": []
        },
        {
          "name": "Start Packing Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"pickListId\": \"{{PICK_LIST_ID}}\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/session/start",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "session", "start"]
            },
            "description": "**POST /warehouses/packing/stations/:id/session/start**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nStart a new packing session for a completed pick list.\n\n**Business Logic:**\n- Pick list must be completed and verified\n- Station must be online and assigned to requesting packer\n- Creates new packing session\n- Loads items to be packed\n- Marks station as busy\n\n**Request Body:**\n```json\n{\n  \"pickListId\": string (required)\n}\n```\n\n**Rate Limit:** 50 operations per minute\n\n**Response:** Session details with items to pack\n\n**Use Cases:**\n- Starting packing workflow\n- Processing completed pick list\n- Initiating package creation"
          },
          "response": []
        },
        {
          "name": "Pack Item",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"itemId\": \"pack_item_id\",\n  \"packageNumber\": 1,\n  \"quantity\": 10\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/pack",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "pack"]
            },
            "description": "**POST /warehouses/packing/stations/:id/pack**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nRecord item packed into a package.\n\n**Business Logic:**\n- Assigns item to package number\n- Tracks packing progress\n- Supports multi-package orders\n- Updates session status\n\n**Request Body:**\n```json\n{\n  \"itemId\": string (required),\n  \"packageNumber\": number (required),\n  \"quantity\": number (required)\n}\n```\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Scanning items into boxes\n- Multi-box order packing\n- Progress tracking"
          },
          "response": []
        },
        {
          "name": "Create Package",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"packageNumber\": 1,\n  \"dimensions\": {\n    \"length\": 30,\n    \"width\": 25,\n    \"height\": 15\n  },\n  \"weight\": 2500,\n  \"boxType\": \"standard_medium\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/packages",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "packages"]
            },
            "description": "**POST /warehouses/packing/stations/:id/packages**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nFinalize package with dimensions and weight after packing items.\n\n**Business Logic:**\n- Records actual package dimensions\n- Captures package weight\n- Validates items are packed\n- Generates package barcode\n- Prepares for label printing\n\n**Request Body:**\n```json\n{\n  \"packageNumber\": number (required),\n  \"dimensions\": object (required) - cm,\n  \"weight\": number (required) - grams,\n  \"boxType\": string (optional)\n}\n```\n\n**Rate Limit:** 50 operations per minute\n\n**Response:** Package details with barcode\n\n**Use Cases:**\n- Finalizing box\n- Recording package details\n- Preparing for shipment"
          },
          "response": []
        },
        {
          "name": "Verify Weight",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"packageNumber\": 1,\n  \"actualWeight\": 2480,\n  \"scaleId\": \"SCALE-01\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/verify-weight",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "verify-weight"]
            },
            "description": "**POST /warehouses/packing/stations/:id/verify-weight**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nVerify package weight using calibrated scale.\n\n**Business Logic:**\n- Compares actual vs declared weight\n- Flags significant discrepancies\n- Prevents shipping disputes\n- Records scale ID for audit\n- May trigger weight dispute if variance >10%\n\n**Request Body:**\n```json\n{\n  \"packageNumber\": number (required),\n  \"actualWeight\": number (required) - grams,\n  \"scaleId\": string (optional)\n}\n```\n\n**Rate Limit:** 50 operations per minute\n\n**Response:**\n```json\n{\n  \"verified\": true,\n  \"declaredWeight\": 2500,\n  \"actualWeight\": 2480,\n  \"variance\": -0.8,\n  \"acceptable\": true\n}\n```\n\n**Use Cases:**\n- Weight verification\n- QC checkpoint\n- Preventing disputes"
          },
          "response": []
        },
        {
          "name": "Complete Packing Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"All packages packed and verified\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/session/complete",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "session", "complete"]
            },
            "description": "**POST /warehouses/packing/stations/:id/session/complete**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nComplete packing session after all packages are ready.\n\n**Business Logic:**\n- Validates all items packed\n- All packages finalized and weight verified\n- Updates order statuses to 'packed'\n- Marks station as available\n- Triggers shipping label generation\n- Records session metrics\n\n**Request Body:**\n```json\n{\n  \"notes\": string (optional)\n}\n```\n\n**Rate Limit:** 50 operations per minute\n\n**Use Cases:**\n- Finishing packing workflow\n- Moving to shipping stage\n- Recording completion"
          },
          "response": []
        },
        {
          "name": "Cancel Packing Session",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Damaged items found\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/session/cancel",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "session", "cancel"]
            },
            "description": "**POST /warehouses/packing/stations/:id/session/cancel**\n\n**Access:** KYC required + Packer role\n\n**Purpose:**\nCancel current packing session (issues found, order cancelled, etc.).\n\n**Business Logic:**\n- Reverts packed items\n- Deletes created packages\n- Frees station\n- Returns pick list to previous state\n- Records cancellation reason\n\n**Request Body:**\n```json\n{\n  \"reason\": string (required)\n}\n```\n\n**Use Cases:**\n- Handling damaged items\n- Order cancellations\n- Packing errors"
          },
          "response": []
        },
        {
          "name": "Get Package Label",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stations/{{STATION_ID}}/packages/1/label",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stations", "{{STATION_ID}}", "packages", "1", "label"]
            },
            "description": "**GET /warehouses/packing/stations/:id/packages/:packageNumber/label**\n\n**Access:** KYC required\n\n**Purpose:**\nGenerate and retrieve shipping label for packed package.\n\n**Response:**\n- PDF or image format label\n- Contains AWB barcode\n- Shipping address\n- Package details\n- Carrier information\n\n**Use Cases:**\n- Printing shipping labels\n- Label reprinting\n- Package identification"
          },
          "response": []
        },
        {
          "name": "Get Station Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/warehouses/packing/stats/station/{{STATION_ID}}?period=today",
              "host": ["{{BASE_URL}}"],
              "path": ["warehouses", "packing", "stats", "station", "{{STATION_ID}}"],
              "query": [
                {
                  "key": "period",
                  "value": "today"
                }
              ]
            },
            "description": "**GET /warehouses/packing/stats/station/:stationId**\n\n**Access:** KYC required + Warehouse Manager role\n\n**Purpose:**\nRetrieve performance statistics for a packing station.\n\n**Query Parameters:**\n- `period` (optional): today|week|month\n\n**Response:**\n```json\n{\n  \"stationId\": \"station_id\",\n  \"period\": \"today\",\n  \"sessions\": {\n    \"completed\": 15,\n    \"cancelled\": 1\n  },\n  \"packages\": {\n    \"total\": 42,\n    \"avgWeight\": 2350\n  },\n  \"performance\": {\n    \"avgSessionTime\": \"12.5 mins\",\n    \"packagesPerHour\": 18,\n    \"uptime\": 92.5\n  }\n}\n```\n\n**Use Cases:**\n- Station performance monitoring\n- Equipment utilization\n- Capacity planning"
          },
          "response": []
        }
      ]
    },
    {
      "name": "Ratecard Management",
      "item": [
        {
          "name": "Create Ratecard",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Standard Domestic Rates 2024\",\n  \"carrier\": \"Delhivery\",\n  \"serviceType\": \"standard\",\n  \"zones\": [\n    {\n      \"zone\": \"A\",\n      \"description\": \"Within city\",\n      \"baseWeight\": 500,\n      \"basePrice\": 40,\n      \"additionalWeightPrice\": 15\n    },\n    {\n      \"zone\": \"B\",\n      \"description\": \"Within state\",\n      \"baseWeight\": 500,\n      \"basePrice\": 55,\n      \"additionalWeightPrice\": 20\n    },\n    {\n      \"zone\": \"C\",\n      \"description\": \"Metro to metro\",\n      \"baseWeight\": 500,\n      \"basePrice\": 70,\n      \"additionalWeightPrice\": 25\n    },\n    {\n      \"zone\": \"D\",\n      \"description\": \"Rest of India\",\n      \"baseWeight\": 500,\n      \"basePrice\": 85,\n      \"additionalWeightPrice\": 30\n    }\n  ],\n  \"validFrom\": \"2024-01-01T00:00:00Z\",\n  \"validTo\": \"2024-12-31T23:59:59Z\",\n  \"active\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/ratecards",
              "host": ["{{BASE_URL}}"],
              "path": ["ratecards"]
            },
            "description": "**POST /ratecards**\n\n**Access:** Authenticated\n\n**Purpose:**\nCreate a new rate card with zone-based pricing for shipping calculations.\n\n**Business Logic:**\n- Zone-based pricing (A, B, C, D)\n- Weight slab system (base weight + additional weight)\n- Carrier and service type specific\n- Validity period management\n- Base price for first 500g, additional price per 500g\n\n**Request Body:**\n```json\n{\n  \"name\": string (required) - Ratecard display name,\n  \"carrier\": string (required) - Carrier name,\n  \"serviceType\": string (required) - standard|express|surface,\n  \"zones\": array (required) - Zone pricing configuration,\n  \"validFrom\": datetime (required),\n  \"validTo\": datetime (optional),\n  \"active\": boolean (default: true)\n}\n```\n\n**Zone Structure:**\n```json\n{\n  \"zone\": string (A|B|C|D),\n  \"description\": string,\n  \"baseWeight\": number (grams, typically 500),\n  \"basePrice\": number (INR),\n  \"additionalWeightPrice\": number (INR per additional 500g)\n}\n```\n\n**Validation:**\n- All four zones must be defined\n- Valid from must be before valid to\n- Prices must be positive\n- No overlapping active ratecards for same carrier+service\n\n**Response:** Created ratecard with generated ID\n\n**Use Cases:**\n- Setting up carrier pricing\n- Seasonal rate updates\n- Negotiated rate implementation"
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    if (response.data && response.data.id) {",
                  "        pm.environment.set('RATECARD_ID', response.data.id);",
                  "        console.log('Stored RATECARD_ID:', response.data.id);",
                  "    }",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get All Ratecards",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/ratecards?carrier=Delhivery&active=true",
              "host": ["{{BASE_URL}}"],
              "path": ["ratecards"],
              "query": [
                {
                  "key": "carrier",
                  "value": "Delhivery"
                },
                {
                  "key": "active",
                  "value": "true"
                },
                {
                  "key": "serviceType",
                  "value": "standard",
                  "disabled": true
                }
              ]
            },
            "description": "**GET /ratecards**\n\n**Access:** Authenticated\n\n**Purpose:**\nRetrieve list of all ratecards with filtering options.\n\n**Query Parameters:**\n- `carrier` (optional): Filter by carrier name\n- `serviceType` (optional): Filter by service type\n- `active` (optional): Filter by active status\n\n**Response:**\n```json\n{\n  \"ratecards\": [\n    {\n      \"id\": \"ratecard_id\",\n      \"name\": \"Standard Domestic Rates 2024\",\n      \"carrier\": \"Delhivery\",\n      \"serviceType\": \"standard\",\n      \"zones\": [...],\n      \"validFrom\": \"2024-01-01T00:00:00Z\",\n      \"validTo\": \"2024-12-31T23:59:59Z\",\n      \"active\": true\n    }\n  ]\n}\n```\n\n**Use Cases:**\n- Viewing all pricing configurations\n- Carrier rate comparison\n- Rate management dashboard"
          },
          "response": []
        },
        {
          "name": "Calculate Shipping Rate",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"originPincode\": \"{{TEST_PINCODE_ORIGIN}}\",\n  \"destinationPincode\": \"{{TEST_PINCODE_DEST}}\",\n  \"weight\": 1500,\n  \"carrier\": \"Delhivery\",\n  \"serviceType\": \"standard\"\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/ratecards/calculate",
              "host": ["{{BASE_URL}}"],
              "path": ["ratecards", "calculate"]
            },
            "description": "**POST /ratecards/calculate**\n\n**Access:** Authenticated\n\n**Purpose:**\nCalculate shipping cost for given origin-destination pair and package weight.\n\n**Business Logic:**\n- Determines zone based on pincode pair\n- Calculates cost using weight slabs\n- Formula: basePrice + (additionalSlabs * additionalWeightPrice)\n- Additional slabs = ceil((weight - baseWeight) / 500)\n- Returns zone, breakdown, and total cost\n\n**Request Body:**\n```json\n{\n  \"originPincode\": string (required) - 6 digit pincode,\n  \"destinationPincode\": string (required) - 6 digit pincode,\n  \"weight\": number (required) - grams,\n  \"carrier\": string (optional) - defaults to best available,\n  \"serviceType\": string (optional) - defaults to standard\n}\n```\n\n**Response:**\n```json\n{\n  \"zone\": \"B\",\n  \"zoneDescription\": \"Within state\",\n  \"carrier\": \"Delhivery\",\n  \"serviceType\": \"standard\",\n  \"weight\": 1500,\n  \"calculation\": {\n    \"baseWeight\": 500,\n    \"basePrice\": 55,\n    \"additionalWeight\": 1000,\n    \"additionalSlabs\": 2,\n    \"additionalPrice\": 40,\n    \"total\": 95\n  },\n  \"currency\": \"INR\"\n}\n```\n\n**Zone Determination Logic:**\n- Zone A: Same city (first 3 digits of pincode match)\n- Zone B: Same state\n- Zone C: Metro to metro cities\n- Zone D: Rest of India\n\n**Use Cases:**\n- Cart checkout pricing\n- Order cost estimation\n- Shipping cost display\n- Multi-carrier rate comparison"
          },
          "response": []
        },
        {
          "name": "Get Ratecard by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{BASE_URL}}/ratecards/{{RATECARD_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["ratecards", "{{RATECARD_ID}}"]
            },
            "description": "**GET /ratecards/:id**\n\n**Access:** Authenticated\n\n**Purpose:**\nRetrieve detailed information about a specific ratecard including all zone configurations.\n\n**Response:** Complete ratecard object with zone pricing details\n\n**Use Cases:**\n- Viewing ratecard details\n- Editing ratecard\n- Rate verification"
          },
          "response": []
        },
        {
          "name": "Update Ratecard",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "X-CSRF-Token",
                "value": "{{CSRF_TOKEN}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Standard Domestic Rates 2024 - Updated\",\n  \"zones\": [\n    {\n      \"zone\": \"A\",\n      \"description\": \"Within city\",\n      \"baseWeight\": 500,\n      \"basePrice\": 42,\n      \"additionalWeightPrice\": 16\n    },\n    {\n      \"zone\": \"B\",\n      \"description\": \"Within state\",\n      \"baseWeight\": 500,\n      \"basePrice\": 57,\n      \"additionalWeightPrice\": 21\n    },\n    {\n      \"zone\": \"C\",\n      \"description\": \"Metro to metro\",\n      \"baseWeight\": 500,\n      \"basePrice\": 72,\n      \"additionalWeightPrice\": 26\n    },\n    {\n      \"zone\": \"D\",\n      \"description\": \"Rest of India\",\n      \"baseWeight\": 500,\n      \"basePrice\": 87,\n      \"additionalWeightPrice\": 31\n    }\n  ],\n  \"active\": true\n}"
            },
            "url": {
              "raw": "{{BASE_URL}}/ratecards/{{RATECARD_ID}}",
              "host": ["{{BASE_URL}}"],
              "path": ["ratecards", "{{RATECARD_ID}}"]
            },
            "description": "**PATCH /ratecards/:id**\n\n**Access:** Authenticated\n\n**Purpose:**\nUpdate existing ratecard pricing or configuration.\n\n**Request Body:** Partial ratecard object (only fields to update)\n\n**Business Rules:**\n- Cannot update carrier or serviceType (immutable)\n- If updating zones, must provide all four zones\n- Cannot modify if active and in use by orders\n- Price changes apply to new shipments only\n\n**Validation:**\n- Prices must be positive\n- Valid from/to dates must be logical\n- No overlaps with other active ratecards\n\n**Use Cases:**\n- Rate revision\n- Seasonal adjustments\n- Negotiated rate updates\n- Correcting configuration errors"
          },
          "response": []
        }
      ]
    }
  ]
}
